webpackJsonp([9],{"0Isn":function(e,t){},"0iJt":function(e,t,a){"use strict";t.a={getToken:function(){return window.localStorage.getItem("id_token")},saveToken:function(e){window.localStorage.setItem("id_token",e)},destroyToken:function(){window.localStorage.removeItem("id_token")}}},"1/oy":function(e,t){},"64Mu":function(e,t){},"6doq":function(e,t,a){"use strict";var s=a("TXmL");a("7+uW").a.use(s.a);var r=new s.a({locale:"es",messages:{en:{message:{any_comment:"Any comment?",comments:"Comments",company_name:"Company name",date:"Date",email:"Email",framework_version:"Framework version",hello:"hello world",hide:"Hide",justification:"Justification",lets_start:"Let's start",n_a_rating_label:"If you are unsure or you consider an item does not apply to your organization kindly select the N/A option. This will eliminate the N/A values from the overall score",name:"Name",n_a_explanation:"Text for explaining somethig",needs_review:"Needs review?",part1_applies_motivation:"Part 1. APPLIES-motivation",part2_applies_preparation:"Part 2. APPLIES-preparation",participant_form_header:"Participant data",please_enter_email:"Please enter your email",please_enter_name:"Let us know your full name.",please_explain:"Please explain",profile:"Profile",progress:"Progress",start:"Start",total:"total",why_question:"Why?",welcome_to_applies:'<h2><span style="color: #3d94ff;"><strong>Bievenido!</strong></span> <span>Esta es una encuesta para medir la cultura innovadora</span></h2>',applies_instructions:'<p style="text-align: justify;">APPLIES is a free framework for evaluating in a systematic, objective and repeatable way company&rsquo;s motivation and preparation for adopting product lines. As a result, APPLIES intends to provide information for supporting the judgments of decision-makers prior they take any decision in favor or against adopting a product line. This framework expects to be useful to consultants, project managers or any person interested in advising management levels to choose a product line initiative.</p><p style="text-align: justify;">APPLIES ask for some product-lines related concepts, <strong><em>THUS IT IS RECOMMENDED</em></strong> that you have at least a <em>BASIC</em> notion <em>about WHAT IS THE PRODUCT LINE ENGINEERING</em> approach <strong>before</strong> using <strong>APPLIES</strong>.</p><p style="text-a"lign: justify;">This tool has three main parts: &ldquo;<em>APPLIES-motivation</em>&rdquo;, &ldquo;<em>APPLIES-preparation</em>&rdquo;, and &ldquo;<em>Resulting charts</em>&rdquo;. <strong>APPLIES-motivation</strong> has questions that help companies to identify &ldquo;signals&rdquo;, called henceforth adoption drivers, which indicate that a product line approach could be useful for a company. On the other hand, <strong>APPLIES-preparation</strong> helps companies to assess to what extent current and future company practices encourage or impede a product line engineering adoption, and the resulting charts of both parts are shown in the tab &ldquo;<strong>Summary charts</strong>&rdquo;.</p><p style="text-align: justify;">To commence using APPLIES go to the tab Applies-motivation and fill the general information about you as the user of this framework. Moreover, In this tab, you will find questions related to APPLIES-motivation. Then, go to the tab " <strong> APPLIES - preparation </strong> " where you will find questions related to APPLIES-preparation. After completing the scoring, you will find in the tab "<strong>Preparation results</strong>" a quantitative and graphical visual synthesis about how well your organization is motivated prepared for adopting a product line approach. These graphical results are calculated automatically.</p>',applies_contact:"<blockquote><p><em>In case you have any queries regarding the use of this Framework, or its results, you can contact me at <strong>lfrincon@applies.variamos.com</strong></em></p></blockquote>",error_consuming_service:"",general_progress:"General progress",save:"Save"}},es:{message:{all:"Todas",administrador:"Administrador",access_key:"Código de acceso",access_config:"Código de acceso para compartir con los encuestados",answer_number:"Número de respuestas",any_comment:"Algún comentario?",areas_by_categories_average:"Promedio de áreas por categorías",average_1to3:"Promedio entre 1 y 3",average_4to6:"Promedio entre 4 y 6",average_7to9:"Promedio entre 7 y 9",average:"Promedio",cargo:"Cargo",cargando:"Cargando ....",categorias:"Categorías",category:"categoría",comments:"Commentarios",change_password:"Cambiar password",company_name:"Company name",continue:"Continuar",confirm_delete_message:"¿Esta seguro que desea eliminar este registro?",contact_information:"Información de contacto",create:"Crear",clear:"Limpiar",cancel:"Cancelar",clients:"Clientes",cliente:"Cliente",compania:"Compañía",components:"Componentes",component:"componente",configure:"Configurar",constitution_year:"Año de constitución del cliente",customization_information:"Mensajes personalizados",delete:"Eliminar",details:"Detalles",directivo:"Directivo",dimensions:"Dimensiones",dimension:"dimensión",download_data:"Descargar datos",download_parametric_data:"Descargar datos de parámetros",download_answers_data:"Descargar respuestas",download_clients:"Descargar lista de clientes",download_no_data:"No hay datos que descargar",download_no_data_title:"Nada que descargar!",download_answers_by_client_id:"Respuestas por cliente",date:"Date",error_configuracion_cliente:"No se ha parametrizado el número máximo de encuestas para este cliente, por favor configure primero este valor en el menú de Clientes",error_configuracion_encuesta:"No se ha parametrizado la encuesta personalizada para esta compañía, por favor configure primero este valor en el menú de Personalizar encuesta",error_login_codigo:"No existe ninguna encuesta para los datos ingresados",error_no_espacio_guardar_encuesta:"Lo sentimos: fue alcanzado el número máximo de respuestas posibles",entrar:"Entrar",email:"Email",corporative_group:"¿Grupo empresarial?",edit:"Editar",es_directivo:"Seleccione el nivel al que pertenece en la empresa",eliminar_exito:"Se eliminó el registro exitosamente",guardar_modificar_exito:"El registro se guardó /actualizó exitosamente",framework_version:"Framework version",fin_encuesta:"Ha terminado! ",filtro:"Filtro",hello:"hello world",hide:"Ocultar",iniciar_sesion_msj:"Ingrese los valores para iniciar sesión",identification_client:"Identificación del cliente",items:"Preguntas",justification:"Justification",lets_start:"Iniciar encuesta",logout:"Salir",login:"Login",n_a_rating_label:"If you are unsure or you consider an item does not apply to your organization kindly select the N/A option. This will eliminate the N/A values from the overall score",name:"Nombre",max_surveys:"Número máximo de encuestas",area:"Área",n_a_explanation:"Text for explaining somethig",n:"n",no:"No",no_directivo:"No directivo",no_data_filter:" No hay datos con los filtros definidos",no_resultados:"No hay datos para presentar",no_survey_config:"La encuesta aún no hasido configura, por favor realice primero la configuración",number_employees:"Número de empleados",message_login_code:"Ingrese el código de acceso para iniciar",message_ejemplo_login:"Por ejemplo, C5- abd3E4",needs_review:"Needs review?",pwd:"Contraseña",part1_applies_motivation:"Part 1. APPLIES-motivation",participant_form_header:"Información general",peer_page:"Por página",please_enter_email:"Ingrese su correo electrónico",please_enter_area:"Seleccione el área al que pertenece",please_enter_name:"Let us know your full name.",please_enter_company_name:"Ingrese el nombre de la compañía",please_enter_config_description:"Ingrese una descripción para esta configuración",please_explain:"Please explain",prefijo:"Prefijo",profile:"Perfil",progress:"Progress",rendimiento_dimension:"Promedio por dimensiones",rendimiento_componente:"Promedio por componentes",rendimiento_categoria:"Promedio por categorías",rendimiento_areas:"Promedio por áreas",rendimiento_dir_no_dir:"Promedio para directivos y no directivos por categoría",repeatPwd:"Repita la contraseña",resultado_alta_tendencia:"Alta tendencia a la cultura innovadora",resultado_media_tendencia:"Tendencia media a la cultura innovadora",resultado_baja_tendencia:"Baja tendencia a la cultura innovadora",resultado_dimensiones:"Promedio por dimensiones",resultado_componentes:"Promedio por componentes",resultado_categorias:"Promedio por categorías",resultado_detallados:"Resultados detallados",resultado_categorias_no_directivos:"Promedio por categorías \n ( No directivos)",resultado_categorias_directivos:"Promedio por categorías ( Directivos)",save:"Guardar",start:"Start",seleccion_cargo:"Seleccione el tipo de cargo que tiene en la empresa",share_link:"Enlace para compartir",seleccion_cliente:"--Seleccione el cliente--",seleccion_compania:"--Seleccione la compañía--",seleccion_perfil:"--Seleccione el perfil--",sort:"Ordenar",show:"Mostrar",survey_conf_desc:"Descripción",survey_instructions:"Instrucciones para diligenciar la encuesta",thanks_information:"Información de agradecimiento",total:"total",value1to9:"Valor mínimo 1  -- Valor máximo 9",why_question:"Why?",welcome:'<h2><span style="color: #3d94ff;"><strong>Bienvenido!</strong></span> <span>Esta es una encuesta para medir la cultura innovadora</span></h2>',error_consuming_service:"Ocurrió un error inesperado consultando/guardando los datos, informe al administrador",error_connecting_dataBase:"NO fue posible conectar con la base de datos. Informe al administrador",error_consuming_service_permissions:"No tiene permiso para consultar los datos. Para ver la información autentiquese primero en el sistema",error_consuming_not_found:"ERROR: No se pudo consultar la información para cargar/guardar los datos. Contacte al administrador",error_consuming_save_service:"Ocurrió un error inesperado guardardando los datos, por favor contacte al administrador",error_consuming_service_detail_categories:"ERROR: unable to consume categories service",error_consuming_service_detail_items:"ERROR: unable to consume service to consult active items",error_consuming_service_instructions:"ERROR: unable to consume service to consult the user instructions",error_consuming_service_dimensions:"ERROR: unable to consume service {0}}",total_desacuerdo:"Total desacuerdo",type_of_company_client:"¿Empresa familiar?",total_acuerdo:"Total acuerdo",type_to_search:"Escriba para buscar",used_surveys:"Encuestas aplicadas:",general_progress:"Progreso general",yes:"Si",likert_scale_9_instructions:"Total desacuerdo (1) -- Total acuerdo (9)",all_fill:"Completado",user:"Nombre de usuario"}}}});t.a=r},AezD:function(e,t,a){"use strict";a.d(t,"b",function(){return s}),a.d(t,"e",function(){return r}),a.d(t,"f",function(){return n}),a.d(t,"j",function(){return o}),a.d(t,"k",function(){return i}),a.d(t,"g",function(){return c}),a.d(t,"h",function(){return l}),a.d(t,"i",function(){return u}),a.d(t,"c",function(){return m}),a.d(t,"a",function(){return d}),a.d(t,"d",function(){return p});var s="logOut",r="setUser",n="setCredentialsAccessCode",o="setError",i="setLoading",c="setCategories",l="setClients",u="setCompanies",m="setActiveInstrumentId",d="clearErrors",p="setAreas"},CNgy:function(e,t){},"H/Zg":function(e,t,a){"use strict";var s=a("Xxa5"),r=a.n(s),n=a("mvHQ"),o=a.n(n),i=a("exGp"),c=a.n(i),l=(a("7+uW"),a("mtWM")),u=a.n(l),m=a("d+r2"),d=a("6doq"),p=a("0iJt"),v=(a("AezD"),u.a.create({baseURL:m.a.API_URL,json:!0}));t.a={data:function(){return{}},execute:function(e,t,a,s){var n=this;return c()(r.a.mark(function s(){var i;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return p.a.getToken(),i={},s.abrupt("return",v({method:e,url:t,data:a,headers:i}).then(function(e){return e}).catch(function(e){var t="";if(void 0!=e.response&&void 0!=e.response.status)switch(e.response.status){case 400:t=o()(e.response.data);break;case 500:var a=o()(e.response.data);console.error(a),t=d.a.tc("message.error_consuming_service");break;case 403:t=d.a.tc("message.error_consuming_service_permissions");break;case 404:t=d.a.tc("message.error_consuming_not_found");break;default:t=d.a.tc("message.error_consuming_service")}else"Network Error"===e.message&&(t=d.a.tc("message.error_connecting_dataBase"));throw console.error("USER MSG: "+o()(e.response)),console.error("SERVER ERROR:"+t),new Error(t)}));case 4:case"end":return s.stop()}},s,n)}))()},create:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.execute("post",t,e,a)},update:function(e,t,a){var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.execute("put",a+""+e+"/",t,s)},patch:function(e,t,a){var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.execute("patch",a+""+e+"/",t,s)},remove:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.execute("delete",t+""+e+"/",a)},getAll:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.execute("get",e,t)},post:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.execute("post",t,e,a)}}},"HW/o":function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return r}),a.d(t,"c",function(){return n}),a.d(t,"d",function(){return o});var s="LoginAccessCode",r="LoginByPassword",n="Encuesta",o="ResultadosCategorias"},Id91:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),r=a("e6fC"),n=a("O6Gy"),o=a.n(n),i=a("XyMi");var c=function(e){a("NY3r")},l=Object(i.a)({name:"app"},function(){var e=this.$createElement;return(this._self._c||e)("router-view")},[],!1,c,null,null).exports,u=a("/ocq"),m=a("Dd8w"),d=a.n(m),p=Object(i.a)({name:"c-aside"},function(){var e=this.$createElement;return(this._self._c||e)("aside",{staticClass:"aside-menu"})},[],!1,null,null,null).exports,v={props:{list:{type:Array,required:!0,default:function(){return[]}}},methods:{isLast:function(e){return e===this.list.length-1},showName:function(e){return e.meta&&e.meta.label&&(e=e.meta&&e.meta.label),e.name&&(e=e.name),e}}},f=Object(i.a)(v,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ol",{staticClass:"breadcrumb"},e._l(e.list,function(t,s){return a("li",{key:s,staticClass:"breadcrumb-item"},[e.isLast(s)?a("span",{staticClass:"active"},[e._v(e._s(e.showName(t)))]):a("router-link",{attrs:{to:t}},[e._v(e._s(e.showName(t)))])],1)}))},[],!1,null,null,null).exports,_={props:{variant:{type:String}},computed:{classList:function(){return["callout",this.calloutVariant]},calloutVariant:function(){return this.variant?"callout-"+this.variant:""}}},b=(Object(i.a)(_,function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classList},[this._t("default")],2)},[],!1,null,null,null).exports,Object(i.a)({name:"c-footer"},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this.$createElement,t=this._self._c||e;return t("footer",{staticClass:"app-footer"},[t("span",[t("a",{attrs:{href:"http://coreui.io"}},[this._v("Template from CoreUI")]),this._v(" © 2018 creativeLabs -- ")])])}],!1,null,null,null).exports),g=a("NYxO"),h=a("lHQJ"),y=a("HW/o"),x={name:"c-header",methods:{sidebarToggle:function(e){e.preventDefault(),document.body.classList.toggle("sidebar-hidden")},sidebarMinimize:function(e){e.preventDefault(),document.body.classList.toggle("sidebar-minimized")},mobileSidebarToggle:function(e){e.preventDefault(),document.body.classList.toggle("sidebar-mobile-show")},asideToggle:function(e){e.preventDefault(),document.body.classList.toggle("aside-menu-hidden")},logout:function(){var e=this;this.isParticipant?this.$store.dispatch(h.h).then(function(){e.$router.push({name:y.a})}):this.$store.dispatch(h.h).then(function(){e.$router.push({name:y.b})})}},computed:d()({},Object(g.b)(["isAuthenticated","profile","isAdmin","showProfileText","currentUser","isParticipant","clientName"]))},w=Object(i.a)(x,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"app-header navbar"},[a("button",{staticClass:"navbar-toggler mobile-sidebar-toggler d-lg-none",attrs:{type:"button"},on:{click:e.mobileSidebarToggle}},[a("span",{staticClass:"navbar-toggler-icon"})]),e._v(" "),a("b-link",{staticClass:"navbar-brand",attrs:{to:"#"}}),e._v(" "),a("button",{staticClass:"navbar-toggler sidebar-toggler d-md-down-none mr-auto",attrs:{type:"button"},on:{click:e.sidebarToggle}},[a("span",{staticClass:"navbar-toggler-icon"})]),e._v(" "),a("div",[a("small",[e._v("\n    "+e._s(e.currentUser.email)+"\n    "),a("div",[a("strong",[e._v(e._s(e.$t("message.profile")))]),e._v(": "+e._s(e.showProfileText)+" "),a("strong",[a("br"),e._v(" "+e._s(e.clientName)+" ")])])])]),e._v(" "),a("b-navbar-nav",{directives:[{name:"show",rawName:"v-show",value:e.isAuthenticated,expression:"isAuthenticated"}],staticClass:"ml-auto",on:{click:e.logout}},[a("b-nav-item",{staticClass:"d-md-down-none"},[a("i",{staticClass:"fa fa-lock"}),e._v(" "+e._s(e.$t("message.logout"))+"\n    ")])],1)],1)},[],!1,null,null,null).exports,C=Object(i.a)({name:"sidebar-footer"},function(){var e=this.$createElement;return(this._self._c||e)("div")},[],!1,null,null,null).exports,k=Object(i.a)({name:"sidebar-form"},function(){var e=this.$createElement;return(this._self._c||e)("div")},[],!1,null,null,null).exports,S=Object(i.a)({name:"sidebar-header"},function(){var e=this.$createElement;return(this._self._c||e)("div")},[],!1,null,null,null).exports,P={name:"sidebar-minimizer",methods:{sidebarMinimize:function(){document.body.classList.toggle("sidebar-minimized")},brandMinimize:function(){document.body.classList.toggle("brand-minimized")}}},$=Object(i.a)(P,function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{staticClass:"sidebar-minimizer",attrs:{type:"button"},on:{click:function(t){e.sidebarMinimize(),e.brandMinimize()}}})},[],!1,null,null,null).exports,j=a("Gu7T"),E=a.n(j),A={name:"sidebar-nav-divider",props:{classes:{type:String,default:""}},computed:{classList:function(){return["divider"].concat(E()(this.itemClasses))},itemClasses:function(){return this.classes?this.classes.split(" "):""}}},I=Object(i.a)(A,function(){var e=this.$createElement;return(this._self._c||e)("li",{class:this.classList})},[],!1,null,null,null).exports,D={props:{name:{type:String,default:""},url:{type:String,default:""},icon:{type:String,default:""}},methods:{handleClick:function(e){e.preventDefault(),e.target.parentElement.classList.toggle("open")}}},N=Object(i.a)(D,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-link",{staticClass:"nav-item nav-dropdown",attrs:{tag:"li",to:e.url,disabled:""}},[a("div",{staticClass:"nav-link nav-dropdown-toggle",on:{click:e.handleClick}},[a("i",{class:e.icon}),e._v(" "+e._s(e.name))]),e._v(" "),a("ul",{staticClass:"nav-dropdown-items"},[e._t("default")],2)])},[],!1,null,null,null).exports,L={name:"sidebar-nav-link",props:{name:{type:String,default:""},url:{type:String,default:""},icon:{type:String,default:""},badge:{type:Object,default:function(){}},variant:{type:String,default:""},classes:{type:String,default:""}},computed:{classList:function(){return["nav-link",this.linkVariant].concat(E()(this.itemClasses))},linkVariant:function(){return this.variant?"nav-link-"+this.variant:""},itemClasses:function(){return this.classes?this.classes.split(" "):[]},isExternalLink:function(){return"http"===this.url.substring(0,4)}}},T=Object(i.a)(L,function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isExternalLink?a("div",[a("a",{class:e.classList,attrs:{href:e.url}},[a("i",{class:e.icon}),e._v(" "+e._s(e.name)+"\n    "),e.badge&&e.badge.text?a("b-badge",{attrs:{variant:e.badge.variant}},[e._v(e._s(e.badge.text))]):e._e()],1)]):a("div",[a("router-link",{class:e.classList,attrs:{to:e.url}},[a("i",{class:e.icon}),e._v(" "+e._s(e.name)+"\n    "),e.badge&&e.badge.text?a("b-badge",{attrs:{variant:e.badge.variant}},[e._v(e._s(e.badge.text))]):e._e()],1)],1)},[],!1,null,null,null).exports,O={props:{name:{type:String,default:""},classes:{type:String,default:""},wrapper:{type:Object,default:function(){}}},computed:{classList:function(){return["nav-title"].concat(E()(this.itemClasses))},itemClasses:function(){return this.classes?this.classes.split(" "):""}}},z=Object(i.a)(O,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{class:e.classList},[e.wrapper&&e.wrapper.element?[a(e.wrapper.element,e._b({tag:"component"},"component",e.wrapper.attributes,!1),[e._v("\n      "+e._s(e.name)+"\n    ")])]:[e._v("\n    "+e._s(e.name)+"\n  ")]],2)},[],!1,null,null,null).exports,R={name:"sidebar-nav-item",props:{classes:{type:String,default:""}},computed:{classList:function(){return["nav-item"].concat(E()(this.itemClasses))},itemClasses:function(){return this.classes?this.classes.split(" "):""}},methods:{hideMobile:function(){document.body.classList.contains("sidebar-mobile-show")&&document.body.classList.toggle("sidebar-mobile-show")}}},q=Object(i.a)(R,function(){var e=this.$createElement;return(this._self._c||e)("li",{class:this.classList,on:{click:this.hideMobile}},[this._t("default")],2)},[],!1,null,null,null).exports,M={name:"sidebar-nav-label",components:{SidebarNavItem:q,SidebarNavLink:T},props:{name:{type:String,default:""},url:{type:String,default:"#"},icon:{type:String,default:"fa fa-circle"},classes:{type:String,default:""},label:{type:Object,required:!0,default:function(){}}},computed:{classList:function(){return{navItem:["hidden-cn"].concat(E()(this.getClasses(this.classes))).join(" "),navLink:"nav-label",icon:[this.icon?this.icon:"fa fa-circle",this.label.variant?"text-"+this.label.variant:"",this.label.class?this.label.class:""].join(" ")}}},methods:{getClasses:function(e){return e?e.split(" "):[]}}},B=Object(i.a)(M,function(){var e=this.$createElement,t=this._self._c||e;return t("SidebarNavItem",{attrs:{classes:this.classList.navItem}},[t("a",{class:this.classList.navLink,attrs:{href:this.url}},[t("i",{class:this.classList.icon}),this._v(" "+this._s(this.name))])])},[],!1,null,null,null).exports,H={name:"sidebar",props:{navItems:{type:Array,required:!0,default:function(){return[]}}},components:{SidebarFooter:C,SidebarForm:k,SidebarHeader:S,SidebarMinimizer:$,SidebarNavDivider:I,SidebarNavDropdown:N,SidebarNavLink:T,SidebarNavTitle:z,SidebarNavItem:q,SidebarNavLabel:B},methods:{handleClick:function(e){e.preventDefault(),e.target.parentElement.classList.toggle("open")}}};var U=function(e){a("grji")},F=Object(i.a)(H,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar"},[a("SidebarHeader"),e._v(" "),a("SidebarForm"),e._v(" "),a("nav",{staticClass:"sidebar-nav"},[a("div",{attrs:{slot:"header"},slot:"header"}),e._v(" "),a("ul",{staticClass:"nav"},[e._l(e.navItems,function(t,s){return[t.title?[a("SidebarNavTitle",{key:s,attrs:{name:t.name,classes:t.class,wrapper:t.wrapper}})]:t.divider?[a("SidebarNavDivider",{key:s,attrs:{classes:t.class}})]:t.label?[a("SidebarNavLabel",{key:s,attrs:{name:t.name,url:t.url,icon:t.icon,label:t.label,classes:t.class}})]:[t.children?[a("SidebarNavDropdown",{key:s,attrs:{name:t.name,url:t.url,icon:t.icon}},[e._l(t.children,function(s,r){return[s.children?[a("SidebarNavDropdown",{key:r,attrs:{name:s.name,url:s.url,icon:s.icon}},e._l(s.children,function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("SidebarNavLink",{attrs:{name:e.name,url:e.url,icon:e.icon,badge:e.badge,variant:t.variant}})],1)}))]:[a("SidebarNavItem",{key:r,attrs:{classes:t.class}},[a("SidebarNavLink",{attrs:{name:s.name,url:s.url,icon:s.icon,badge:s.badge,variant:t.variant}})],1)]]})],2)]:[a("SidebarNavItem",{key:s,attrs:{classes:t.class}},[a("SidebarNavLink",{attrs:{name:t.name,url:t.url,icon:t.icon,badge:t.badge,variant:t.variant}})],1)]]]})],2),e._v(" "),e._t("default")],2),e._v(" "),a("SidebarFooter"),e._v(" "),a("SidebarMinimizer")],1)},[],!1,U,null,null).exports,V={model:{prop:"checked",event:"change"},props:{value:{default:!0},uncheckedValue:{default:!1},checked:{default:!1},type:{type:String,default:"default"},variant:{type:String,default:""},pill:{type:Boolean,default:!1},on:{type:String,default:null},off:{type:String,default:null},size:{type:String,default:null}},computed:{classList:function(){return["switch",this.switchType,this.switchVariant,this.switchPill,this.switchSize]},switchType:function(){return this.type?"switch-"+this.type:"switch-default"},switchVariant:function(){return this.variant?"switch-"+this.variant:"switch-secondary"},switchPill:function(){return this.pill?"switch-pill":null},switchSize:function(){return this.size?"switch-"+this.size:""},isChecked:function(){return this.checked===this.value},isOn:function(){return!!this.on||null}},methods:{handleChange:function(e){var t=e.target.checked;this.$emit("change",t?this.value:this.uncheckedValue)}}},G=(Object(i.a)(V,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{class:e.classList},[a("input",{staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{value:e.value,checked:e.isChecked},on:{change:e.handleChange}}),e._v(" "),e.isOn?[a("span",{staticClass:"switch-label",attrs:{"data-on":e.on,"data-off":e.off}})]:[a("span",{staticClass:"switch-label"})],e._v(" "),a("span",{staticClass:"switch-handle"})],2)},[],!1,null,null,null).exports,a("x+z4")),W=a("h+nM"),Y={name:"full",components:{AppHeader:w,Sidebar:F,AppAside:p,AppFooter:b,Breadcrumb:f,ErrorsList:G.a,baseLoading:function(){return a.e(1).then(a.bind(null,"tnTd"))}},data:function(){return{nav:this.getMenuItems()}},methods:{getMenuItems:function(){var e=[],t=this.$store.getters.profile;return t!==W.d&&t!==W.a||(e=e.concat([{name:"Evaluación",url:"/main_instrument",icon:"fa icon-notebook"}])),null!=t&&t<W.d&&(e=e.concat([{title:!0,name:"Resultados",url:"/result",icon:"fa fa-pie-chart"},{name:"Por categorías",url:"/result-by-categories",icon:"fa icon-graph"},{name:"Por directivos/no directivos",url:"/result-by-directives",icon:"fa icon-graph"},{name:"Por áreas",url:"/result-by-areas",icon:"fa icon-graph"},{title:!0,name:"Resultados específicos",url:"/especific_results",icon:"fa icon-puzzle"},{name:"Por dimensiones y componentes",url:"/results_by_dim_comp",icon:"fa icon-chart"},{name:"Tabla resumen dimensiones y componentes",url:"/results_by_dim_comp_table",icon:"fa icon-chart"},{name:"Exportar",url:"/export",icon:"fa icon-cloud-download"}])),t!==W.c&&t!==W.a||(e=e.concat([{title:!0,name:"Configuración"},{name:"Clientes",url:"/clients",icon:"fa icon-people"},{name:"Personalizar encuesta",url:"/customSurvey",icon:"fa icon-settings"},{name:"Encuestas x cliente",url:"/configSurveys",icon:"fa icon-docs"},{name:"Usuarios",url:"/users",icon:"fa icon-user"}])),e}},computed:d()({name:function(){return this.$route.name},list:function(){return this.$route.matched}},Object(g.b)(["isLoading","profile"]))},J=Object(i.a)(Y,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app"},[a("AppHeader"),e._v(" "),a("div",{staticClass:"app-body"},[a("Sidebar",{attrs:{navItems:e.nav}}),e._v(" "),a("main",{staticClass:"main"},[a("breadcrumb",{attrs:{list:e.list}}),e._v(" "),a("div",{staticClass:"container-fluid"},[a("base-loading",{attrs:{isLoading:e.isLoading}}),e._v(" "),a("errors-list"),e._v(" "),a("router-view")],1)],1),e._v(" "),a("AppAside")],1),e._v(" "),a("AppFooter")],1)},[],!1,null,null,null).exports,Q=a("mvHQ"),X=a.n(Q),Z=a("C4MV"),K=a.n(Z),ee=a("pFYg"),te=a.n(ee),ae=a("Xxa5"),se=a.n(ae),re=a("exGp"),ne=a.n(re),oe=a("d+r2"),ie=a("H/Zg"),ce=a("6doq"),le=a("AezD"),ue={name:"the_main_instrument",data:function(){return{participantResponse:null,serviceResult:{},result:"",isSurveyVisible:!1,parameters:oe.a.parameters,idClient:null,selected:[],showDirective:void 0,showQuestions:!1,showThanksMessage:!1,isLoading:null,instruccionData:{}}},created:function(){var e=this;return ne()(se.a.mark(function t(){return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.participantResponse=e.clone(oe.a.participantResponse),e.isAdmin||e.refreshDataNoAdmin();case 2:case"end":return t.stop()}},t,e)}))()},mounted:function(){this.$store.commit(le.a)},components:{theMainInstrumentTablesItems:function(){return a.e(3).then(a.bind(null,"Rnzu"))},clientSelector:function(){return a.e(0).then(a.bind(null,"AxsP"))}},methods:{loadAreas:function(){var e=this;return ne()(se.a.mark(function t(){return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$store.dispatch(h.b);case 1:case"end":return t.stop()}},t,e)}))()},refreshDataNoAdmin:function(){this.loadAreas(),(this.isParticipant||this.isClient)&&(this.idClient=this.currentUser.client_id,this.refreshData(this.idClient))},refreshData:function(e){var t=this;return ne()(se.a.mark(function a(){var s,r;return se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.$store.commit(le.k,!0),t.idClient=e,s={idClient:e},a.prev=3,a.next=6,ie.a.post(s,oe.a.endPoints.ulrInstructions);case 6:200===(r=a.sent).status&&(t.obj=r.data,void 0===t.obj.error?(t.instruccionData=r.data,t.loadAreas(),t.$store.commit(le.a)):"config_survey"===t.obj.error?(t.showData=!1,t.errorMsg=ce.a.tc("message.error_configuracion_cliente"),t.$store.commit(le.j,t.errorMsg)):"no_customized_instrument"===t.obj.error&&(t.showData=!1,t.errorMsg=ce.a.tc("message.error_configuracion_encuesta"),t.$store.commit(le.j,t.errorMsg)),t.$store.commit(le.k,!1)),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(3),t.instruccionData={user_instructions:"",contact_info:"",thanks:" "},t.$store.commit(le.j,a.t0.message),t.$store.commit(le.k,!1);case 15:case"end":return a.stop()}},a,t,[[3,10]])}))()},clone:function(e){var t={};for(var a in e)"object"===te()(e[a])?K()(t,this.clone(e[a]),{value:e[a],writable:!0,enumerable:!0,configurable:!0}):K()(t,a,{value:e[a],writable:!0,enumerable:!0,configurable:!0});return t},starForm:function(){alert(X()(this.participantResponse))},startSurvey:function(){this.isSurveyVisible=!0,this.$store.commit(le.a)},onSubmit:function(e){var t=this;e.preventDefault(),this.$validator.validate().then(function(e){e&&(t.showQuestions=!0)})},processEnd:function(e){var t=this;return ne()(se.a.mark(function a(){var s,r;return se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.$store.commit(le.k,!0),console.log("Emitio guardado"),t.participantResponse.responsesList=e,t.participantResponse.customized_instrument_id=t.instruccionData.id,s={idCustomizedInstrument:t.participantResponse.customized_instrument_id},a.prev=5,a.next=8,ie.a.post(s,oe.a.endPoints.isAllowedSave);case 8:if(200!==(r=a.sent).status){a.next=20;break}if(t.obj=r.data,!0!==t.obj.save){a.next=19;break}return a.next=14,ie.a.create(t.participantResponse,oe.a.endPoints.urlSaveSubItems);case 14:r=a.sent,t.obj=r.data,void 0===t.obj.error&&201===r.status&&(console.log("Guardado de respuestas en BD fue correcto"),t.$store.commit(le.a),t.showThanksMessage=!0),a.next=20;break;case 19:!1===t.obj.save&&(t.showThanksMessage=!1,t.$store.commit(le.j,ce.a.tc("message.error_no_espacio_guardar_encuesta")),t.hasErrors=!0);case 20:a.next=25;break;case 22:a.prev=22,a.t0=a.catch(5),t.$store.commit(le.j,a.t0.message);case 25:t.$store.commit(le.k,!1);case 26:case"end":return a.stop()}},a,t,[[5,22]])}))()}},filters:{decimalNumbers:function(e){return e?e=e.toFixed(2):""}},computed:d()({},Object(g.b)(["isAuthenticated","currentUser","profile","isAdmin","isParticipant","isClient","customizedInstrument","areas","hasErrors"]))},me=Object(i.a)(ue,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animated fadeIn"},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("client-selector",{on:{"client-selector:change":e.refreshData}})],1)],1),e._v(" "),a("b-row",{directives:[{name:"show",rawName:"v-show",value:!e.isSurveyVisible&&!e.showThanksMessage&&null!=e.idClient,expression:"!isSurveyVisible && !showThanksMessage && idClient != null"}],attrs:{fluid:""}},[a("b-col",{attrs:{md:"12"}},[a("b-jumbotron",{attrs:{"bg-variant":"light"}},[a("template",{slot:"header"},[a("span",{staticClass:"text-center",domProps:{innerHTML:e._s(e.$t("message.welcome"))}}),e._v(" "),a("hr",{staticClass:"my-4"})]),e._v(" "),a("template",{slot:"lead"},[a("b-row",{attrs:{fluid:""}},[a("b-col",{attrs:{md:"12"}},[a("b-card",{staticClass:"mx-auto",attrs:{"border-variant":"info"}},[a("span",{domProps:{innerHTML:e._s(e.instruccionData.custom_user_instructions)}}),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("small",{staticClass:"text-muted",domProps:{innerHTML:e._s(e.instruccionData.custom_contact_info)}})])])],1)],1)],1),e._v(" "),a("b-btn",{directives:[{name:"show",rawName:"v-show",value:!e.hasErrors,expression:"!hasErrors"}],staticClass:"float-right",attrs:{variant:"primary"},on:{click:function(t){return t.preventDefault(),e.startSurvey(t)}}},[e._v(e._s(e.$t("message.lets_start")))])],2)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isSurveyVisible&&!e.showThanksMessage&&!e.hasErrors,expression:"isSurveyVisible && !showThanksMessage && !hasErrors"}]},[a("b-row",{attrs:{fluid:""}},[a("b-col",{attrs:{md:"12"}},[a("b-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("strong",[e._v(e._s(e.$t("message.participant_form_header")))])])],1)],1),e._v(" "),a("div",{attrs:{fluid:""}},[a("b-form",{on:{submit:e.onSubmit}},[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{description:e.$t("message.please_enter_email"),label:e.$t("message.email"),"label-for":"email","label-cols":2,horizontal:!0}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{id:"email",type:"email",placeholder:" ",autocomplete:"email",required:"",name:"email"},model:{value:e.participantResponse.email,callback:function(t){e.$set(e.participantResponse,"email",t)},expression:"participantResponse.email"}}),e._v(" "),e.errors.has("email")?a("p",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("email")))]):e._e()],1)],1),e._v(" "),a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{description:e.$t("message.please_enter_area"),label:e.$t("message.area"),"label-for":"area","label-cols":2,horizontal:!0}},[a("b-form-select",{attrs:{id:"area",options:e.areas,required:""},model:{value:e.participantResponse.area_id,callback:function(t){e.$set(e.participantResponse,"area_id",t)},expression:"participantResponse.area_id"}})],1)],1)],1),e._v(" "),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:e.$t("message.es_directivo"),"label-for":"positionDirective","label-cols":6,horizontal:!0}},[a("b-form-radio-group",{attrs:{id:"positionDirective",options:e.parameters.position,name:"positionDirective",required:""},model:{value:e.participantResponse.is_directive,callback:function(t){e.$set(e.participantResponse,"is_directive",t)},expression:"participantResponse.is_directive"}})],1)],1)],1),e._v(" "),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-form-group",{attrs:{label:e.$t("message.comments"),"label-for":"commentsTextarea","label-cols":2,horizontal:!0}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.participantResponse.comments,expression:"participantResponse.comments"}],staticClass:"form-control rounded-0",attrs:{id:"exampleFormControlTextarea1",rows:"3",placeholder:e.$t("message.any_comment")},domProps:{value:e.participantResponse.comments},on:{input:function(t){t.target.composing||e.$set(e.participantResponse,"comments",t.target.value)}}})])],1)],1),e._v(" "),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("div",{staticClass:"float-right",attrs:{slot:"footer"},slot:"footer"},[a("b-button",{attrs:{type:"submit",size:"m",variant:"primary"}},[a("i",{staticClass:"fa fa-dot-circle-o"}),e._v(" "+e._s(e.$t("message.continue")))])],1)])],1)],1)],1)])],1)],1),e._v(" "),a("b-row",{directives:[{name:"show",rawName:"v-show",value:e.showQuestions,expression:"showQuestions"}],attrs:{fluid:""}},[a("b-col",{attrs:{lg:"12"}},[a("the-main-instrument-tables-items",{attrs:{hover:""},on:{"item-level2-table:change":e.processEnd}})],1)],1)],1),e._v(" "),a("b-row",{attrs:{md:"12"}},[a("b-col",{attrs:{lg:"12"}},[a("b-card",{directives:[{name:"show",rawName:"v-show",value:e.showThanksMessage,expression:"showThanksMessage"}],attrs:{"header-tag":"header","footer-tag":"footer"}},[a("b-alert",{attrs:{show:"",variant:"success"}},[a("h4",{staticClass:"alert-heading"},[e._v(e._s(e.$t("message.fin_encuesta")))]),e._v(" "),a("hr"),e._v(" "),a("p",[a("span",{domProps:{innerHTML:e._s(e.instruccionData.custom_thanks)}})])])],1)],1)],1)],1)},[],!1,null,null,null).exports,de=[],pe={data:function(){return{columns:[{key:"client_company_name",label:"Nombre",sortable:!0,sortDirection:"desc"},{key:"identification",label:"Id",sortable:!0,class:"text-center"},{key:"constitution_year",label:"Año constitución",sortable:!0,class:"text-center"},{key:"number_employees",label:"Número de empleados",sortable:!0,class:"text-center"},{key:"is_corporate_group",label:"Grupo corporativo?",sortable:!0},{key:"is_family_company",label:"Companía familiar?",sortable:!0},{key:"max_surveys",label:ce.a.tc("message.max_surveys"),sortable:!0},{key:"used_surveys",label:ce.a.tc("message.used_surveys"),sortable:!0},{key:"company__name",label:ce.a.tc("message.compania"),sortable:!0},{key:"actions",label:"Acciones",class:"scaleWidth, text-center"}],currentPage:1,perPage:10,totalRows:de.length,parameters:oe.a.parameters,pageOptions:oe.a.pageOptions,sortBy:null,sortDesc:!1,sortDirection:"asc",filter:null,modalInfo:{title:"",visible:!1},modalConfigSurvey:{title:"",visible:!1},modalErrors:[],items:[],obj:{},surveyConfig:{}}},created:function(){var e=this;return ne()(se.a.mark(function t(){return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.refreshData(),e.obj=e.clearObj();case 2:case"end":return t.stop()}},t,e)}))()},mounted:function(){this.$store.commit(le.a)},computed:d()({sortOptions:function(){return this.columns.filter(function(e){return e.sortable}).map(function(e){return{text:e.label,value:e.key}})}},Object(g.b)(["isAdmin","isCompany","isParticipant","isClient","hasErrors","currentUser","companies","idActiveInstrumentHeader"])),methods:{process:function(e,t,a){var s=this;return ne()(se.a.mark(function t(){return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.$store.commit(le.a),s.$store.commit(le.k,!0),s.modalErrors=[],"edit"===a.id?(s.obj=JSON.parse(X()(e)),s.modalInfo.title=ce.a.tc("message.edit")):"create"===a.id&&(s.obj=s.clearObj(),s.modalInfo.title=ce.a.tc("message.create")),!s.isAdmin){t.next=13;break}return t.prev=5,t.next=8,s.$store.dispatch(h.e);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),s.modalErrors.push(t.t0.message);case 13:s.modalInfo.visible=!0,s.$root.$emit("bv::show::modal","modalInfo",a),s.$store.commit(le.k,!1);case 16:case"end":return t.stop()}},t,s,[[5,10]])}))()},clearObj:function(){var e={id:null,identification:null,company_id:null,client_company_name:null,constitution_year:null,number_employees:null,is_corporate_group:null,is_family_company:null};return this.isCompany&&(e.company_id=this.currentUser.company_id),e},clearSurveyConf:function(){return{id:null,client_id:null,instrument_header_id:this.idActiveInstrumentHeader,max_surveys:null,used_surveys:0}},resetModalInfo:function(){this.modalInfo.title=""},isVisible:function(e){return!("companies"!==e||!this.isAdmin)||!("clients"!==e||!this.isAdmin&&!this.isClient)},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},refreshData:function(){var e=this;return ne()(se.a.mark(function t(){var a,s;return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.$store.commit(le.k,!0),e.clearObj(),a={},e.isAdmin?a.idCompany=null:e.isCompany&&(a.idCompany=e.currentUser.company_id),a.isCompany=e.isCompany,a.isAdmin=e.isAdmin,t.next=9,ie.a.post(a,oe.a.endPoints.urlClients);case 9:200===(s=t.sent).status?e.items=s.data:e.items=[],t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e.$store.commit(le.j,t.t0.message);case 16:e.$store.commit(le.k,!1);case 17:case"end":return t.stop()}},t,e,[[0,13]])}))()},loadConfigSurveys:function(e,t){this.surveyConfig=this.clearSurveyConf(),this.modalConfigSurvey.title=ce.a.tc("message.configure")+" "+e.client_company_name,this.modalConfigSurvey.visible=!0,this.surveyConfig.id=e.config_id,this.surveyConfig.client_id=e.id,this.surveyConfig.max_surveys=e.max_surveys,this.surveyConfig.used_surveys=e.used_surveys,this.surveyConfig.survey_conf_desc=e.survey_conf_desc,this.$root.$emit("bv::show::modal","modalConfigSurvey")},onSubmit:function(e){var t=this;e.preventDefault(),this.$validator.validate().then(function(a){a&&("modalInfo"===e.target.id?t.save(t.obj,oe.a.endPoints.clients):t.save(t.surveyConfig,oe.a.endPoints.surveyConfigPath))})},save:function(e,t){var a=this;return ne()(se.a.mark(function s(){var r;return se.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,r=null,!e.id||0===e.id){s.next=8;break}return s.next=5,ie.a.update(e.id,e,t);case 5:r=s.sent,s.next=11;break;case 8:return s.next=10,ie.a.create(e,t);case 10:r=s.sent;case 11:if(!(r.status>=200&&r.status<=300)){s.next=17;break}return alert(ce.a.tc("message.guardar_modificar_exito")),s.next=15,a.refreshData();case 15:a.modalInfo.visible=!1,a.modalConfigSurvey.visible=!1;case 17:s.next=22;break;case 19:s.prev=19,s.t0=s.catch(0),a.modalErrors.push(s.t0.message);case 22:case"end":return s.stop()}},s,a,[[0,19]])}))()},remove:function(e){var t=this;return ne()(se.a.mark(function a(){var s;return se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!confirm(ce.a.tc("message.confirm_delete_message"))){a.next=14;break}return a.prev=1,a.next=4,ie.a.remove(e,oe.a.endPoints.clients);case 4:if(!((s=a.sent).status>=200&&s.status<=300)){a.next=9;break}return alert(ce.a.tc("message.eliminar_exito")),a.next=9,t.refreshData();case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),t.modalErrors.push(a.t0.message);case 14:case"end":return a.stop()}},a,t,[[1,11]])}))()}}};var ve=function(e){a("CNgy")},fe=Object(i.a)(pe,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-card",[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:e.$t("message.filtro")}},[a("b-input-group",[a("b-form-input",{attrs:{placeholder:e.$t("message.type_to_search")},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),a("b-input-group-append",[a("b-btn",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v(e._s(e.$t("message.clear")))])],1)],1)],1)],1),e._v(" "),a("b-col",{staticClass:"my-1",attrs:{md:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:e.$t("message.sort")}},[a("b-input-group",[a("b-form-select",{attrs:{options:e.sortOptions},model:{value:e.sortBy,callback:function(t){e.sortBy=t},expression:"sortBy"}},[a("option",{attrs:{slot:"first"},domProps:{value:null},slot:"first"},[e._v("-- -- --")])]),e._v(" "),a("b-form-select",{attrs:{slot:"append",disabled:!e.sortBy},slot:"append",model:{value:e.sortDesc,callback:function(t){e.sortDesc=t},expression:"sortDesc"}},[a("option",{domProps:{value:!1}},[e._v("Asc")]),e._v(" "),a("option",{domProps:{value:!0}},[e._v("Desc")])])],1)],1)],1)],1),e._v(" "),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:e.$t("message.peer_page")}},[a("b-form-select",{attrs:{options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1)],1),e._v(" "),a("b-card",{staticClass:"card-body"},[a("b-row",[a("b-col",[a("b-button",{staticClass:"float-right my-1",attrs:{type:"submit",size:"m",variant:"primary",id:"create"},on:{click:function(t){t.stopPropagation(),e.process(null,null,t.target)}}},[a("i",{staticClass:"fa icon-plus"}),e._v(" "+e._s(e.$t("message.create"))+"\n      ")])],1)],1),e._v(" "),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-table",{attrs:{"show-empty":"",hover:"",stacked:"sm",items:e.items,fields:e.columns,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,responsive:"",emptyText:e.$t("message.no_resultados"),emptyFilteredText:e.$t("message.no_data_filter")},on:{"update:sortBy":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"name",fn:function(t){return[e._v(e._s(t.value.first)+" "+e._s(t.value.last))]}},{key:"is_corporate_group",fn:function(t){return[e._v(e._s(t.value?e.$t("message.yes"):e.$t("message.no")))]}},{key:"is_family_company",fn:function(t){return[e._v(e._s(t.value?e.$t("message.yes"):e.$t("message.no")))]}},{key:"actions",fn:function(t){return[a("b-button",{attrs:{size:"sm",id:"edit"},on:{click:function(a){a.stopPropagation(),e.process(t.item,t.index,a.target)}}},[e._v("\n            "+e._s(e.$t("message.edit"))+"\n          ")]),e._v(" "),a("b-button",{attrs:{size:"sm",id:"configSurvey",variant:"secondary"},on:{click:function(a){a.preventDefault(),e.loadConfigSurveys(t.item,t.index)}}},[e._v("\n            "+e._s(e.$t("message.configure"))+"\n          ")]),e._v(" "),a("b-button",{directives:[{name:"show",rawName:"v-show",value:0===t.item.used_surveys,expression:"row.item.used_surveys === 0"}],attrs:{size:"sm",id:"remove",variant:"danger"},on:{click:function(a){a.preventDefault(),e.remove(t.item.id)}}},[e._v("\n            "+e._s(e.$t("message.delete"))+"\n          ")])]}},{key:"row-details",fn:function(t){return[a("b-card",[a("ul",e._l(t.item,function(t,s){return a("li",{key:s},[e._v(e._s(s)+": "+e._s(t))])}))])]}}])})],1)],1),e._v(" "),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1),e._v(" "),a("b-modal",{directives:[{name:"show",rawName:"v-show",value:e.modalInfo.visible,expression:"modalInfo.visible"}],ref:"modalCreateUpdate",attrs:{id:"modalInfo",title:e.modalInfo.title,lazy:""},on:{hide:e.resetModalInfo,ok:e.onSubmit}},[a("b-alert",{attrs:{show:e.modalErrors.length>0,variant:"danger"}},[a("ul",{staticClass:"error-messages"},e._l(e.modalErrors,function(t,s){return a("li",{key:s},[e._v("\n            "+e._s(t)+"\n          ")])}))]),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("b-form-group",[a("b-form-select",{directives:[{name:"show",rawName:"v-show",value:e.isVisible("companies"),expression:"isVisible('companies')"},{name:"validate",rawName:"v-validate",value:e.isVisible("companies")?"required":"",expression:"isVisible('companies')?'required':''"}],attrs:{name:"companies",id:"companies",options:e.companies,"value-field":"id","text-field":"name"},model:{value:e.obj.company_id,callback:function(t){e.$set(e.obj,"company_id",t)},expression:"obj.company_id"}},[a("template",{slot:"first"},[a("option",{domProps:{value:null}},[e._v(e._s(e.$t("message.seleccion_compania")))])])],2),e._v(" "),e.errors.has("identification")?a("p",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("identification")))]):e._e()],1),e._v(" "),a("b-form-group",{class:{"has-error":e.errors.has("company")}},[a("label",{attrs:{for:"company"}},[e._v(e._s(e.$t("message.name")))]),e._v(" "),a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"firstFocus",staticClass:"form-control-warning",attrs:{type:"text",id:"company",name:"company",placeholder:e.$t("message.please_enter_company_name")},model:{value:e.obj.client_company_name,callback:function(t){e.$set(e.obj,"client_company_name",t)},expression:"obj.client_company_name"}}),e._v(" "),e.errors.has("company")?a("p",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("company")))]):e._e()],1),e._v(" "),a("b-row",[a("b-col",{attrs:{md:"4"}},[a("b-form-group",[a("label",{attrs:{for:"identification"}},[e._v(e._s(e.$t("message.identification_client")))]),e._v(" "),a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric|min_value:1",expression:"'required|numeric|min_value:1'"}],attrs:{type:"text",name:"identification",id:"identification"},model:{value:e.obj.identification,callback:function(t){e.$set(e.obj,"identification",t)},expression:"obj.identification"}}),e._v(" "),e.errors.has("identification")?a("p",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("identification")))]):e._e()],1)],1),e._v(" "),a("b-col",{attrs:{md:"4"}},[a("b-form-group",[a("label",{attrs:{for:"numberEmployees"}},[e._v(e._s(e.$t("message.number_employees")))]),e._v(" "),a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric|min_value:1",expression:"'required|numeric|min_value:1'"}],attrs:{type:"number",name:"numberEmployees",id:"numberEmployees"},model:{value:e.obj.number_employees,callback:function(t){e.$set(e.obj,"number_employees",t)},expression:"obj.number_employees"}}),e._v(" "),e.errors.has("numberEmployees")?a("p",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("numberEmployees")))]):e._e()],1)],1),e._v(" "),a("b-col",{attrs:{md:"4"}},[a("b-form-group",[a("label",{attrs:{for:"constitutionYear"}},[e._v(e._s(e.$t("message.constitution_year")))]),e._v(" "),a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric|min_value:1900",expression:"'required|numeric|min_value:1900'"}],attrs:{type:"number",name:"constitutionYear",id:"constitutionYear"},model:{value:e.obj.constitution_year,callback:function(t){e.$set(e.obj,"constitution_year",t)},expression:"obj.constitution_year"}}),e._v(" "),e.errors.has("constitutionYear")?a("p",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("constitutionYear")))]):e._e()],1)],1)],1),e._v(" "),a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:e.$t("message.corporative_group"),"label-for":"corporativeGroup","label-cols":6}},[a("b-form-radio-group",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"corporativeGroup",name:"corporativeGroup",options:e.parameters.yes_no},model:{value:e.obj.is_corporate_group,callback:function(t){e.$set(e.obj,"is_corporate_group",t)},expression:"obj.is_corporate_group"}}),e._v(" "),e.errors.has("corporativeGroup")?a("p",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("corporativeGroup")))]):e._e()],1)],1),e._v(" "),a("b-col",{attrs:{md:"6"}},[a("b-form-group",{attrs:{label:e.$t("message.type_of_company_client"),"label-for":"familyCompany","label-cols":6}},[a("b-form-radio-group",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"familyCompany",options:e.parameters.yes_no,name:"familyCompany"},model:{value:e.obj.is_family_company,callback:function(t){e.$set(e.obj,"is_family_company",t)},expression:"obj.is_family_company"}}),e._v(" "),e.errors.has("familyCompany")?a("p",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("familyCompany")))]):e._e()],1)],1)],1)],1)],1),e._v(" "),a("b-modal",{directives:[{name:"show",rawName:"v-show",value:e.modalConfigSurvey.visible,expression:"modalConfigSurvey.visible"}],ref:"modalConfigSurvey",attrs:{id:"modalConfigSurvey",title:e.modalConfigSurvey.title,lazy:""},on:{ok:e.onSubmit}},[a("b-alert",{attrs:{show:e.modalErrors.length>0,variant:"danger"}},[a("ul",{staticClass:"error-messages"},e._l(e.modalErrors,function(t,s){return a("li",{key:s},[a("span",{domProps:{textContent:e._s(t)}}),e._v("\n            "+e._s(t)+"\n          ")])}))]),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("div",{staticClass:"h6 text-info mb-0 pt-1 float-right"},[e._v("\n            "+e._s(e.$t("message.used_surveys"))+"\n            "),a("strong",[a("vue-numeric",{staticClass:"text-muted",attrs:{precision:0,"read-only":""},model:{value:e.surveyConfig.used_surveys,callback:function(t){e.$set(e.surveyConfig,"used_surveys",t)},expression:"surveyConfig.used_surveys"}})],1),e._v(" "),a("hr")])])],1),e._v(" "),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-form-group",[a("label",{attrs:{for:"maxSurveys"}},[e._v(e._s(e.$t("message.max_surveys")))]),e._v(" "),a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,numeric:!0,min_value:e.surveyConfig.used_surveys},expression:"{required: true, numeric: true, min_value:surveyConfig.used_surveys }"}],attrs:{type:"number",name:"maxSurveys",id:"maxSurveys"},model:{value:e.surveyConfig.max_surveys,callback:function(t){e.$set(e.surveyConfig,"max_surveys",t)},expression:"surveyConfig.max_surveys"}}),e._v(" "),e.errors.has("maxSurveys")?a("p",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("maxSurveys")))]):e._e()],1)],1)],1)],1)],1)],1)},[],!1,ve,"data-v-0370ca88",null).exports,_e=[],be={data:function(){return{columns:[{key:"client.client_company_name",label:"Nombre cliente",sortable:!0,sortDirection:"desc"},{key:"max_surveys",label:ce.a.tc("message.max_surveys"),sortable:!0},{key:"used_surveys",label:ce.a.tc("message.used_surveys"),sortable:!0},{key:"client.company.name",label:ce.a.tc("message.compania"),sortable:!0},{key:"actions",label:"Acciones",class:"scaleWidth, text-center"}],currentPage:1,perPage:10,totalRows:_e.length,parameters:oe.a.parameters,pageOptions:oe.a.pageOptions,sortBy:null,sortDesc:!1,sortDirection:"asc",filter:null,modalConfigSurvey:{title:"",visible:!0},items:[],obj:{},surveyConfig:{}}},created:function(){var e=this;return ne()(se.a.mark(function t(){return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.refreshData(),e.obj=e.clearObj();case 2:case"end":return t.stop()}},t,e)}))()},mounted:function(){this.$store.commit(le.a)},computed:d()({sortOptions:function(){return this.columns.filter(function(e){return e.sortable}).map(function(e){return{text:e.label,value:e.key}})}},Object(g.b)(["isAdmin","isCompany","profile","currentUser","isCompany","idActiveInstrumentHeader"])),methods:{process:function(e,t,a){"edit"===a.id?(this.obj=JSON.parse(X()(e)),this.modalConfigSurvey.title=ce.a.tc("message.edit")):"create"===a.id&&(this.obj=this.clearObj(),this.modalConfigSurvey.title=ce.a.tc("message.create")),this.$root.$emit("bv::show::modal","modalConfigSurvey",a)},clearObj:function(){return{id:null,client_id:null,instrument_header_id:this.idActiveInstrumentHeader,max_surveys:0,used_surveys:0}},resetModal:function(){this.modalInfo.title=""},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},refreshData:function(){var e=this;return ne()(se.a.mark(function t(){var a,s;return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.$store.commit(le.k,!0),e.clearObj(),a={},e.isAdmin?a.idCompany=null:e.isCompany&&(a.idCompany=e.currentUser.company_id),a.isAdmin=e.isAdmin,t.next=8,ie.a.post(a,oe.a.endPoints.surveyConfigPathByCompany);case 8:200===(s=t.sent).status?e.items=s.data:e.items=[],t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e.$store.commit(le.j,t.t0.message);case 15:e.$store.commit(le.k,!1);case 16:case"end":return t.stop()}},t,e,[[0,12]])}))()},loadConfigSurveys:function(e,t){this.surveyConfig=this.clearSurveyConf(),this.modalConfigSurvey.title=ce.a.tc("message.configure")+" "+e.client_company_name,this.surveyConfig.client_id=e.id,this.surveyConfig.max_surveys=e.max_surveys,this.surveyConfig.used_surveys=e.used_surveys,this.$root.$emit("bv::show::modal","modalConfigSurvey")},onSubmit:function(e){var t=this;e.preventDefault(),this.$validator.validate().then(function(e){e&&t.save(oe.a.endPoints.user)})},remove:function(e){var t=this;return ne()(se.a.mark(function a(){var s;return se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!confirm(ce.a.tc("message.confirm_delete_message"))){a.next=14;break}return a.prev=1,a.next=4,ie.a.remove(e,oe.a.endPoints.surveyConfigPath);case 4:if(!((s=a.sent).status>=200&&s.status<=300)){a.next=9;break}return alert(ce.a.tc("message.eliminar_exito")),a.next=9,t.refreshData();case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),t.$store.commit(le.j,a.t0.message);case 14:case"end":return a.stop()}},a,t,[[1,11]])}))()}}};var ge=function(e){a("64Mu")},he=Object(i.a)(be,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-card",[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:e.$t("message.filtro")}},[a("b-input-group",[a("b-form-input",{attrs:{placeholder:e.$t("message.type_to_search")},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),a("b-input-group-append",[a("b-btn",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v(e._s(e.$t("message.clear")))])],1)],1)],1)],1),e._v(" "),a("b-col",{staticClass:"my-1",attrs:{md:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:e.$t("message.sort")}},[a("b-input-group",[a("b-form-select",{attrs:{options:e.sortOptions},model:{value:e.sortBy,callback:function(t){e.sortBy=t},expression:"sortBy"}},[a("option",{attrs:{slot:"first"},domProps:{value:null},slot:"first"},[e._v("-- -- --")])]),e._v(" "),a("b-form-select",{attrs:{slot:"append",disabled:!e.sortBy},slot:"append",model:{value:e.sortDesc,callback:function(t){e.sortDesc=t},expression:"sortDesc"}},[a("option",{domProps:{value:!1}},[e._v("Asc")]),e._v(" "),a("option",{domProps:{value:!0}},[e._v("Desc")])])],1)],1)],1)],1),e._v(" "),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:e.$t("message.peer_page")}},[a("b-form-select",{attrs:{options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1)],1)],1),e._v(" "),a("b-card",{staticClass:"card-body"},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-table",{attrs:{"show-empty":"",hover:"",responsive:"",stacked:"sm",items:e.items,fields:e.columns,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,emptyText:e.$t("message.no_resultados"),emptyFilteredText:e.$t("message.no_data_filter")},on:{"update:sortBy":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"name",fn:function(t){return[e._v(e._s(t.value.first)+" "+e._s(t.value.last))]}},{key:"is_corporate_group",fn:function(t){return[e._v(e._s(t.value?e.$t("message.yes"):e.$t("message.no")))]}},{key:"is_family_company",fn:function(t){return[e._v(e._s(t.value?e.$t("message.yes"):e.$t("message.no")))]}},{key:"actions",fn:function(t){return[a("b-button",{directives:[{name:"show",rawName:"v-show",value:0===t.item.used_surveys,expression:"row.item.used_surveys === 0"}],attrs:{size:"sm",id:"remove",variant:"danger"},on:{click:function(a){a.preventDefault(),e.remove(t.item.id)}}},[e._v("\n            "+e._s(e.$t("message.delete"))+"\n          ")])]}},{key:"row-details",fn:function(t){return[a("b-card",[a("ul",e._l(t.item,function(t,s){return a("li",{key:s},[e._v(e._s(s)+": "+e._s(t))])}))])]}}])})],1)],1),e._v(" "),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1),e._v(" "),a("b-modal",{ref:"modalConfigSurvey",attrs:{id:"modalConfigSurvey",title:e.modalConfigSurvey.title},on:{hide:e.resetModal,ok:e.onSubmit}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("div",{staticClass:"h6 text-info mb-0 pt-1 float-right"},[e._v("\n            "+e._s(e.$t("message.used_surveys"))+"\n            "),a("strong",[a("vue-numeric",{staticClass:"text-muted",attrs:{precision:0,"read-only":""},model:{value:e.obj.used_surveys,callback:function(t){e.$set(e.obj,"used_surveys",t)},expression:"obj.used_surveys"}})],1),e._v(" "),a("hr")])])],1),e._v(" "),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-form-group",[a("label",{attrs:{for:"maxSurveys"}},[e._v(e._s(e.$t("message.max_surveys")))]),e._v(" "),a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric|min_value:0",expression:"'required|numeric|min_value:0'"}],attrs:{type:"number",name:"maxSurveys",id:"maxSurveys"},model:{value:e.obj.max_surveys,callback:function(t){e.$set(e.obj,"max_surveys",t)},expression:"obj.max_surveys"}}),e._v(" "),e.errors.has("maxSurveys")?a("p",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("maxSurveys")))]):e._e()],1)],1)],1)],1)])],1)},[],!1,ge,"data-v-73070238",null).exports,ye=a("4vvG"),xe=a.n(ye),we=a("6J2T"),Ce={components:{clientSelector:function(){return a.e(0).then(a.bind(null,"AxsP"))},ckeditor:a.n(we).a.component},data:function(){return{columns:[{key:"client_company_name",label:"Nombre",sortable:!0,sortDirection:"desc"},{key:"constitution_year",label:"Año constitución",sortable:!0,class:"text-center"},{key:"number_employees",label:"Número de empleados",sortable:!0,class:"text-center"},{key:"is_corporate_group",label:"Grupo corporativo?",sortable:!0},{key:"is_family_company",label:"Companía familiar?",sortable:!0},{key:"max_surveys",label:ce.a.tc("message.max_surveys"),sortable:!0},{key:"used_surveys",label:ce.a.tc("message.used_surveys"),sortable:!0},{key:"actions",label:"Acciones",class:"scaleWidth, text-center"}],obj:{},idClient:null,showData:!1,editor:xe.a}},created:function(){var e=this;return ne()(se.a.mark(function t(){return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.isClient&&e.refreshData(e.currentUser.idClient);case 1:case"end":return t.stop()}},t,e)}))()},mounted:function(){this.$store.commit(le.a)},computed:d()({},Object(g.b)(["currentUser","isAdmin","isCompany","isParticipant","isClient","customizedInstrument","hasErrors","isLoading"])),methods:{refreshData:function(e){var t=this;return ne()(se.a.mark(function a(){var s,r;return se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.$store.commit(le.k,!0),t.showData=!1,t.idClient=e,s={idClient:e},a.prev=4,a.next=7,ie.a.post(s,oe.a.endPoints.ulrInstructions);case 7:200===(r=a.sent).status&&(t.obj=r.data,void 0===t.obj.error?(t.showData=!0,t.$store.commit(le.a)):"config_survey"===t.obj.error?(t.showData=!1,t.$store.commit(le.j,ce.a.tc("message.error_configuracion_cliente"))):"no_customized_instrument"===t.obj.error&&(t.showData=!0)),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(4),t.obj={},t.$store.commit(le.j,a.t0.message);case 15:t.$store.commit(le.k,!1);case 16:case"end":return a.stop()}},a,t,[[4,11]])}))()},onSubmit:function(e){var t=this;e.preventDefault(),this.$validator.validate().then(function(e){e&&t.save(t.obj,oe.a.endPoints.customizedInstrument)})},save:function(e,t){var a=this;return ne()(se.a.mark(function s(){var r;return se.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,a.$store.commit(le.k,!0),r=null,!e.id||0===e.id){s.next=9;break}return s.next=6,ie.a.update(e.id,e,t);case 6:r=s.sent,s.next=12;break;case 9:return s.next=11,ie.a.create(e,t);case 11:r=s.sent;case 12:if(!(r.status>=200&&r.status<=300)){s.next=16;break}return alert(ce.a.tc("message.guardar_modificar_exito")),s.next=16,a.refreshData(a.idClient);case 16:s.next=21;break;case 18:s.prev=18,s.t0=s.catch(0),a.$store.commit(le.j,ce.a.tc("message.error_configuracion_cliente"));case 21:a.$store.commit(le.k,!1);case 22:case"end":return s.stop()}},s,a,[[0,18]])}))()}}};var ke=function(e){a("0Isn")},Se=Object(i.a)(Ce,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("client-selector",{on:{"client-selector:change":e.refreshData}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showData,expression:"showData"}]},[a("b-alert",{attrs:{variant:"warning",show:null===e.obj.id}},[a("h4",[e._v(e._s(e.$t("message.no_survey_config")))])]),e._v(" "),a("form",[a("b-card",{attrs:{header:e.$t("message.access_config")}},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"6"}},[a("div",{staticClass:"h5 text-info mb-2 pt-2"},[e._v("\n              "+e._s(e.$t("message.access_key"))+"\n          ")]),e._v(" "),a("b-card",{attrs:{"no-body":!0}},[a("b-card-body",{staticClass:"p-0 clearfix align-middle"},[a("b-row",[a("b-col",{attrs:{md:"2"}},[a("div",{staticClass:"bg-light font-xl mr-1 p-2"},[a("h4",{staticClass:"font-weight-bold"},[e._v(e._s(e.obj.prefix))])])]),e._v(" "),a("b-col",{attrs:{md:"2"}},[a("h4",{staticClass:"text-secondary font-2xl font-weight-bold"},[e._v("-")])]),e._v(" "),a("b-col",{attrs:{md:"8"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"font-xl p-2",attrs:{maxlength:"12",name:"access_code"},model:{value:e.obj.access_code,callback:function(t){e.$set(e.obj,"access_code",t)},expression:"obj.access_code"}}),e._v(" "),e.errors.has("access_code")?a("p",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("access_code")))]):e._e()],1)],1)],1)],1)],1),e._v(" "),a("b-col",{staticClass:"my-1",attrs:{md:"6"}},[a("div",{staticClass:"h5 text-info mb-2 pt-2"},[e._v("\n            "+e._s(e.$t("message.share_link"))+"\n         ")]),e._v(" "),a("b-card",{attrs:{"no-body":!0}},[a("b-card-body",{staticClass:"p-0 mb-0 clearfix "},[a("i",{staticClass:"fa icon-lock bg-info p-2 px-3 font-2xl mr-1 float-left"}),e._v(" "),a("div",{staticClass:"h3 bg-info mb-0 p-2 px-5 font-2xl"},[e._v(e._s(e.obj.prefix)+"-"+e._s(e.obj.access_code))])])],1)],1)],1),e._v(" "),a("b-btn",{staticClass:"float-right",attrs:{variant:"primary",type:"submit"},on:{click:function(t){return t.preventDefault(),e.onSubmit(t)}}},[e._v(e._s(e.$t("message.save")))])],1),e._v(" "),a("b-card",{attrs:{header:e.$t("message.customization_information")}},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"12"}},[a("b-card",[a("div",{staticClass:"customForm"},[a("div",{staticClass:"h5 text-info mb-2 pt-2"},[e._v("\n            "+e._s(e.$t("message.survey_instructions"))+"\n          ")]),e._v(" "),a("div",[a("ckeditor",{attrs:{editor:e.editor},model:{value:e.obj.custom_user_instructions,callback:function(t){e.$set(e.obj,"custom_user_instructions",t)},expression:"obj.custom_user_instructions"}})],1)])])],1)],1),e._v(" "),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"12"}},[a("b-card",[a("div",{staticClass:"customForm"},[a("div",{staticClass:"h5 text-info mb-2 pt-2"},[e._v("\n            "+e._s(e.$t("message.contact_information"))+"\n          ")]),e._v(" "),a("div",[a("ckeditor",{attrs:{editor:e.editor},model:{value:e.obj.custom_contact_info,callback:function(t){e.$set(e.obj,"custom_contact_info",t)},expression:"obj.custom_contact_info"}})],1)])])],1)],1),e._v(" "),a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"12"}},[a("b-card",[a("div",{staticClass:"customForm"},[a("div",{staticClass:"h5 text-info mb-2 pt-2"},[e._v("\n              "+e._s(e.$t("message.thanks_information"))+"\n            ")]),e._v(" "),a("div",[a("ckeditor",{attrs:{editor:e.editor},model:{value:e.obj.custom_thanks,callback:function(t){e.$set(e.obj,"custom_thanks",t)},expression:"obj.custom_thanks"}})],1)])])],1)],1),e._v(" "),a("b-btn",{staticClass:"float-right",attrs:{variant:"primary",type:"submit"},on:{click:function(t){return t.preventDefault(),e.onSubmit(t)}}},[e._v(e._s(e.$t("message.save")))])],1)],1)],1)],1)},[],!1,ke,"data-v-1042da4d",null).exports,Pe=Object(i.a)({name:"Page404"},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app flex-row align-items-center"},[a("div",{staticClass:"container"},[a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{md:"6"}},[a("div",{staticClass:"clearfix"},[a("h1",{staticClass:"float-left display-3 mr-4"},[e._v("404")]),e._v(" "),a("h4",{staticClass:"pt-3"},[e._v("Oops! You're lost.")]),e._v(" "),a("p",{staticClass:"text-muted"},[e._v("The page you are looking for was not found.")])]),e._v(" "),a("b-input-group",[a("b-input-group-prepend",[a("b-input-group-text",[a("i",{staticClass:"fa fa-search"})])],1),e._v(" "),a("input",{staticClass:"form-control",attrs:{id:"prependedInput",size:"16",type:"text",placeholder:"What are you looking for?"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"info"}},[e._v("Search")])],1)],1)],1)],1)],1)])},[],!1,null,null,null).exports,$e=Object(i.a)({name:"Page500"},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app flex-row align-items-center"},[a("div",{staticClass:"container"},[a("b-row",{staticClass:"justify-content-center"},[a("b-col",{attrs:{md:"6"}},[a("div",{staticClass:"clearfix"},[a("h1",{staticClass:"float-left display-3 mr-4"},[e._v("500")]),e._v(" "),a("h4",{staticClass:"pt-3"},[e._v("Houston, we have a problem!")]),e._v(" "),a("p",{staticClass:"text-muted"},[e._v("The page you are looking for is temporarily unavailable.")])]),e._v(" "),a("b-input-group",[a("b-input-group-prepend",[a("b-input-group-text",[a("i",{staticClass:"fa fa-search"})])],1),e._v(" "),a("input",{staticClass:"form-control",attrs:{id:"prependedInput",size:"16",type:"text",placeholder:"What are you looking for?"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"info"}},[e._v("Search")])],1)],1)],1)],1)],1)])},[],!1,null,null,null).exports;s.a.use(u.a);var je,Ee,Ae,Ie,De,Ne=function(){return a.e(2).then(a.bind(null,"Uwdu"))},Le=new u.a({mode:"hash",linkActiveClass:"open active",scrollBehavior:function(){return{y:0}},routes:[{path:"/",redirect:"/login-code",name:"Pages",component:{render:function(e){return e("router-view")}},children:[{path:"404",name:"Page404",component:Pe},{path:"500",name:"Page500",component:$e},{path:"login-code",name:"LoginAccessCode",component:function(){return a.e(6).then(a.bind(null,"1PYW"))}},{path:"login-pwd",name:"LoginByPassword",component:function(){return a.e(5).then(a.bind(null,"9KPl"))}}]},{path:"/main",redirect:"/main_instrument",name:"Home",component:J,children:[{path:"/main_instrument",name:"Encuesta",component:me},{path:"/result-by-categories",name:"ResultadosCategorias",component:Ne},{path:"/result-by-areas",name:"Resultados por áreas",component:Ne},{path:"/results_by_dim_comp",name:"Resultados por dimensiones y componentes",component:Ne},{path:"/results_by_dim_comp_table",name:"Tabla resumen",component:Ne},{path:"/result-by-directives",name:"Resultados para directivos y no directivos",component:Ne},{path:"/export",name:"Exportar resultados",component:function(){return a.e(7).then(a.bind(null,"6JgH"))}},{path:"/clients",name:"Clientes",component:fe},{path:"/configSurveys",name:"Configurar encuestas",component:he},{path:"/customSurvey",name:"Personalizar encuesta",component:Se},{path:"/users",name:"Usuarios",component:function(){return a.e(4).then(a.bind(null,"VcBQ"))}}]}]}),Te=a("bOdI"),Oe=a.n(Te),ze=a("0iJt"),Re={user:{},customized_instrument:{custom_user_instructions:"",custom_contact_info:"",custom_thanks:" "},config_survey:{},profileType:null,isAuthenticated:!!ze.a.getToken(),instrument_header_id:null},qe={currentUser:function(e){return e.user},isAuthenticated:function(e){return e.isAuthenticated},profile:function(e){return e.profileType},isAdmin:function(e){return 1===e.profileType},isCompany:function(e){return 2===e.profileType},isParticipant:function(e){return 4===e.profileType},isClient:function(e){return 3===e.profileType},idActiveInstrumentHeader:function(e){return e.instrument_header_id},customizedInstrument:function(e){return e.customized_instrument},clientName:function(e){return e.profileType>=3&&null!=e.user.client?e.user.client.client_company_name:""},showProfileText:function(){var e=" ";switch(Re.profileType){case 1:e="Administrador";break;case 2:e="Compañía";break;case 3:e="Cliente";break;case 4:e="Participante"}return e}},Me=(je={},Oe()(je,h.f,function(e,t){var a=this;return ne()(se.a.mark(function s(){var r,n,o;return se.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.commit(le.k,!0),s.prev=1,s.next=4,ie.a.post(t,oe.a.endPoints.loginByAccessCode,!1);case 4:return r=s.sent,n={idCustomizedInstrument:r.data.customized_instrument.id},s.next=8,ie.a.post(n,oe.a.endPoints.isAllowedSave);case 8:200===(o=s.sent).status&&(a.obj=o.data,!0===a.obj.save?(console.log(r.data),e.commit(le.f,r.data),e.commit(le.a)):!1===a.obj.save&&e.commit(le.j,ce.a.tc("message.error_no_espacio_guardar_encuesta"))),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(1),console.error(X()(s.t0.message)),e.commit(le.j,s.t0.message);case 16:e.commit(le.k,!1);case 17:case"end":return s.stop()}},s,a,[[1,12]])}))()}),Oe()(je,h.g,function(e,t){var a=this;return ne()(se.a.mark(function s(){var r,n;return se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.post(t,oe.a.endPoints.loginByPwd,!1);case 3:if(200!==(r=a.sent).status){a.next=11;break}return console.log(r.data),e.commit(le.e,r.data),a.next=9,ie.a.getAll(oe.a.endPoints.activeInstrumentHeader);case 9:n=a.sent,e.commit(le.c,n.data);case 11:a.next=17;break;case 13:a.prev=13,a.t0=a.catch(0),console.error(X()(a.t0.message)),e.commit(le.j,a.t0.message);case 17:case"end":return a.stop()}},s,a,[[0,13]])}))()}),Oe()(je,h.h,function(e){e.commit(le.b)}),Oe()(je,h.a,function(e){ze.a.getToken()?(ApiService.setHeader(),ApiService.get("user").then(function(t){var a=t.data;e.commit(le.e,a.user)}).catch(function(t){var a=t.response;e.commit(le.j,a.data.errors)})):e.commit(le.b)}),Oe()(je,h.i,function(e,t){var a=t.email,s=t.username,r=t.password,n=t.image,o={email:a,username:s,bio:t.bio,image:n};return r&&(o.password=r),ApiService.put("user",o).then(function(t){var a=t.data;return e.commit(le.e,a.user),a})}),je),Be=(Ee={},Oe()(Ee,le.f,function(e,t){e.isAuthenticated=!0,e.profileType=t.profileType,e.customized_instrument=t.customized_instrument,e.config_survey=t.config_survey,e.errors={},e.instrument_header_id=t.config_survey.instrument_header_id,ze.a.saveToken(t.token);var a={};a.company=e.config_survey.client.company,a.client=e.config_survey.client,a.company_id=a.company.id,a.client_id=a.client.id,a.profileType=t.profileType,a.token=t.token,a.email="",e.user=a}),Oe()(Ee,le.c,function(e,t){e.instrument_header_id=t.id}),Oe()(Ee,le.e,function(e,t){e.isAuthenticated=!0,e.user=t,e.profileType=t.profileType,e.errors={}}),Oe()(Ee,le.b,function(e){e.isAuthenticated=!1,e.user={},e.errors={},e.profileType=null,ze.a.destroyToken()}),Ee),He={state:Re,actions:Me,mutations:Be,getters:qe},Ue={state:{areas:{},subItems:{},totalItems:{},categories:{},companies:{},clients:{}},actions:(Ae={},Oe()(Ae,h.b,function(e,t){var a=this;return ne()(se.a.mark(function t(){var s;return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.commit(le.k,!0),t.prev=1,t.next=4,ie.a.getAll(oe.a.endPoints.areas);case 4:200===(s=t.sent).status&&(console.log(s.data),e.commit(le.d,s.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(X()(t.t0.message)),e.commit(le.j,t.t0.message);case 12:e.commit(le.k,!1);case 13:case"end":return t.stop()}},t,a,[[1,8]])}))()}),Oe()(Ae,h.c,function(e,t){var a=this;return ne()(se.a.mark(function t(){var s;return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.commit(le.k,!0),t.prev=1,t.next=4,ie.a.getAll(oe.a.endPoints.categories);case 4:200===(s=t.sent).status&&(console.log(s.data),e.commit(le.g,s.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(X()(t.t0.message)),e.commit(le.j,t.t0.message);case 12:e.commit(le.k,!1);case 13:case"end":return t.stop()}},t,a,[[1,8]])}))()}),Oe()(Ae,h.e,function(e){var t=this;return ne()(se.a.mark(function a(){var s;return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.commit(le.k,!0),t.prev=1,t.next=4,ie.a.getAll(oe.a.endPoints.companies);case 4:200===(s=t.sent).status&&(console.log(s.data),e.commit(le.i,s.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(X()(t.t0.message)),e.commit(le.j,t.t0.message);case 12:e.commit(le.k,!1);case 13:case"end":return t.stop()}},a,t,[[1,8]])}))()}),Oe()(Ae,h.d,function(e,t){var a=this;return ne()(se.a.mark(function s(){var r;return se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.commit(le.k,!0),a.prev=1,a.next=4,ie.a.post(t,oe.a.endPoints.urlClients);case 4:200===(r=a.sent).status&&(console.log(r.data),e.commit(le.h,r.data)),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error(X()(a.t0.message)),e.commit(le.j,a.t0.message);case 12:e.commit(le.k,!1);case 13:case"end":return a.stop()}},s,a,[[1,8]])}))()}),Ae),mutations:(Ie={},Oe()(Ie,le.d,function(e,t){e.areas=t}),Oe()(Ie,le.g,function(e,t){e.categories=t}),Oe()(Ie,le.h,function(e,t){e.clients=t}),Oe()(Ie,le.i,function(e,t){e.companies=t}),Ie),getters:{areas:function(e){return e.areas},subItems:function(e){return e.subItems},categories:function(e){return e.categories},totalItems:function(e){return e.totalItems},companies:function(e){return e.companies}}},Fe={state:{loading:!1,errors:[]},mutations:(De={},Oe()(De,le.k,function(e,t){e.loading=t}),Oe()(De,le.j,function(e,t){e.errors.push(t)}),Oe()(De,le.a,function(e){e.errors=[]}),De),getters:{isLoading:function(e){return e.loading},getErrors:function(e){return e.errors},hasErrors:function(e){return e.errors.length>0}}};s.a.use(g.a);var Ve=new g.a.Store({modules:{auth:He,survey:Ue,global:Fe}}),Ge=a("mtWM"),We=a.n(Ge),Ye=a("Rf8U"),Je=a.n(Ye),Qe={init:function(){s.a.use(Je.a,We.a),s.a.axios.defaults.baseURL=oe.a.API_URL},setHeader:function(){s.a.axios.defaults.headers.common.Authorization="Bearer "+ze.a.getToken()},query:function(e,t){return s.a.axios.get(e,t).catch(function(e){throw new Error("[RWV] ApiService "+e)})},get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.setHeader(),s.a.axios.get(e+"/"+t).catch(function(e){throw new Error("ApiService "+e)})},post:function(e,t){return s.a.axios.post(""+e,t)},update:function(e,t,a){return s.a.axios.put(e+"/"+t,a)},put:function(e,t){return s.a.axios.put(""+e,t)},delete:function(e){return s.a.axios.delete(e).catch(function(e){throw new Error("[RWV] ApiService "+e)})}},Xe=Qe,Ze=a("On01"),Ke=a.n(Ze),et=a("sUu7");s.a.use(r.a),s.a.use(o.a),s.a.use(et.b,{locale:"es",fieldsBagName:"vvFields"}),s.a.config.ignoredElements=["trix-editor"],Xe.init(),et.a.localize("es",Ke.a),et.a.localize("es",oe.a.validation_attr_dictionnary.es),new s.a({el:"#app",router:Le,i18n:ce.a,store:Ve,template:"<App/>",components:{App:l}})},NY3r:function(e,t){},"d+r2":function(e,t,a){"use strict";var s,r=a("bOdI"),n=a.n(r);t.a={API_URL:"http://18.232.93.104:8000/api/",endPoints:{areas:"/areas/",activeInstrumentHeader:"/activeInstrumentHeader/active/",categories:"/categories",customizedInstrument:"customizedInstrument/",loginByAccessCode:"/login-code/",loginByPwd:"/login-pwd/",itemsSpanish:"/activeItemsSpanish",isAllowedSave:"/is-allowed-save/",urlSaveSubItems:"/participantsResponse/",urlAverageData:"averageFilters/",urlClients:"/clients-and-survey-conf/",ulrInstructions:"consult-custom-inst/",clients:"clients/",surveyConfigPath:"configSurveys/",surveyConfigPathByCompany:"configSurveys/by_company/",users:"users/",usersByCompany:"users/users_by_company/",companies:"companies/",urlActiveItems:"/activeItemsSpanish/",urlResponses:"/consult-responses/"},parameters:{position:[{value:!0,text:"Directivo"},{value:!1,text:"No directivo"}],yes_no:[{value:!0,text:"Si"},{value:!1,text:"No"}],profiles:[{value:1,text:"Administrador"},{value:2,text:"Compañía gestora"},{value:3,text:"Cliente"}]},appliesLikertOptions:[{text:"1",value:1},{text:"2",value:2},{text:"3",value:3},{text:"4",value:4},{text:"5",value:5},{text:"6",value:6},{text:"7",value:7},{text:"8",value:8},{text:"9",value:9}],participantResponse:{area_id:void 0,email:"",last_update:"",comments:"",is_directive:void 0,is_complete:!1,responsesList:[],customized_instrument_id:void 0},pageOptions:[5,10,15,40],validation_attr_dictionnary:{en:{attributes:{constitutionYear:"Constitution year"}},es:{attributes:(s={constitutionYear:"Año de constitución",identification:"Identificación del cliente",numberEmployees:"Número de empleados"},n()(s,"constitutionYear","Año de constitución"),n()(s,"corporativeGroup","¿Grupo empresarial?"),n()(s,"familyCompany","¿Empresa familiar?"),n()(s,"company","Compañía"),n()(s,"companies","Compañía"),n()(s,"access_code","Código de acceso"),n()(s,"maxSurveys","Máximo de encuestas"),n()(s,"email","Email"),n()(s,"password","Contraseña"),n()(s,"profileType","Perfil"),n()(s,"prefix","Prefijo"),n()(s,"verificarPassword","Contra"),s)}},exportFileNames:{items:"Preguntas.xls",responses:"RespuestasTodas.xls",clients:"Clientes.xls"}}},grji:function(e,t){},"h+nM":function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"c",function(){return r}),a.d(t,"b",function(){return n}),a.d(t,"d",function(){return o});var s=1,r=2,n=3,o=4},lHQJ:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"g",function(){return r}),a.d(t,"f",function(){return n}),a.d(t,"h",function(){return o}),a.d(t,"i",function(){return i}),a.d(t,"b",function(){return c}),a.d(t,"e",function(){return l}),a.d(t,"c",function(){return u}),a.d(t,"d",function(){return m});var s="checkAuth",r="loginPwd",n="loginAccessCode",o="logout",i="updateUser",c="fetchAreas",l="fetchCompanies",u="fetchCategories",m="fetchClients"},"x+z4":function(e,t,a){"use strict";var s=a("Dd8w"),r=a.n(s),n=a("NYxO"),o={name:"ErrorsList",computed:r()({},Object(n.b)(["getErrors","hasErrors"]))},i=a("XyMi"),c=Object(i.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-alert",{attrs:{show:e.hasErrors,variant:"danger"}},[a("ul",{staticClass:"error-messages"},e._l(e.getErrors,function(t,s){return a("li",{key:s},[e._v("\n     "+e._s(t)+"\n   ")])}))])},[],!1,null,null,null);t.a=c.exports},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.4c4bc9034ba2c54c400b.js.map